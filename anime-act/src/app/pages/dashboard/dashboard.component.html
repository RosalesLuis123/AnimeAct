<div class="dashboard-container" *ngIf="authService.isLoggedIn(); else notLogged">
  <h1>üìä Mi Progreso de Anime</h1>

  <div *ngIf="loadingAnimes" class="loading">Cargando animes...</div>

  <div class="dashboard-sections" *ngIf="!loadingAnimes">
    <div class="section" *ngFor="let s of ['viendo', 'favorito', 'terminado']">
      <h2>{{ s | titlecase }}</h2>
      <div class="anime-list">
        <div class="anime-card" *ngFor="let anime of filterByStatus(s)">
          <img [src]="anime.image_url" [alt]="anime.title" class="anime-image" />
          <p><strong>T√≠tulo:</strong> {{ anime.title }}</p>
          <p><strong>Estado:</strong> {{ anime.status }}</p>
          <p><strong>√öltima actualizaci√≥n:</strong> {{ anime.updated_at | date:'short' }}</p>
        </div>
        <p *ngIf="filterByStatus(s).length === 0" class="empty">Sin animes en esta categor√≠a.</p>
      </div>
    </div>
  </div>
</div>

<ng-template #notLogged>
  <div class="not-logged">
    <h2>‚ö†Ô∏è Debes iniciar sesi√≥n para ver tu progreso.</h2>
    <a routerLink="/login" class="btn-login">Ir al Login</a>
  </div>
</ng-template>